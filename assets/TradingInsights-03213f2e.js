import{r as y,u as V,a as X,_ as E,j as e}from"./index-9fcf3db6.js";import{P as H}from"./PageContainer-cb75b7cb.js";import{D as C}from"./DashboardCard-458b663d.js";import{G as n}from"./Grid-f1be74b5.js";import{F as w,I as k,T as j}from"./TextField-428e74ac.js";import{S}from"./Select-87416660.js";import{c as U,M as I}from"./createReactComponent-8d50b6be.js";import{S as M,P as D}from"./Stack-14a32108.js";import{B as R}from"./Button-9d14bf38.js";import{g as Y,a as K,s as Q,c as Z,b as ee,B as re,T as u}from"./Box-751783ff.js";import{T as se,a as te,b as W,c as i,d as ie,C as ae}from"./TableRow-8155fbde.js";import{I as N}from"./IconButton-06343185.js";import"./useTheme-849fd98e.js";import"./Menu-b2d7b522.js";import"./ButtonBase-bc951112.js";function ne(s){return Y("MuiTableContainer",s)}K("MuiTableContainer",["root"]);const oe=["className","component"],le=s=>{const{classes:l}=s;return ee({root:["root"]},ne,l)},de=Q("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(s,l)=>l.root})({width:"100%",overflowX:"auto"}),ce=y.forwardRef(function(l,h){const x=V({props:l,name:"MuiTableContainer"}),{className:a,component:T="div"}=x,m=X(x,oe),p=E({},x,{component:T}),f=le(p);return e.jsx(de,E({ref:h,as:T,className:Z(f.root,a),ownerState:p},m))}),ue=ce;var he=U("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]),xe=U("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);const Me=()=>{const[s,l]=y.useState({currencyPair:"",tradeType:"",entryPrice:"",exitPrice:"",pips:"",date:"",time:"",notes:"",mood:""}),[h,x]=y.useState([]),[a,T]=y.useState({todayPips:0,todayTrades:0,weeklyPips:0,weeklyTrades:0,winRate:0}),[m,p]=y.useState(null),f=["XAUUSD","GBPUSD","EURUSD","USDJPY"],q=["Buy","Sell"],z=["Excellent","Good","Neutral","Poor","Very Poor"];y.useEffect(()=>{const r=localStorage.getItem("trades");if(r){const t=JSON.parse(r);x(t),v(t)}},[]);const v=r=>{const t=new Date().toISOString().split("T")[0],o=new Date;o.setDate(o.getDate()-7);const P=r.filter(c=>c.date===t),g=r.filter(c=>new Date(c.date)>=o),_=P.reduce((c,b)=>c+Number(b.pips),0),F=g.reduce((c,b)=>c+Number(b.pips),0),L=g.filter(c=>Number(c.pips)>0),$=g.length>0?L.length/g.length*100:0;T({todayPips:_,todayTrades:P.length,weeklyPips:F,weeklyTrades:g.length,winRate:Math.round($)})},d=r=>{const{name:t,value:o}=r.target;l(P=>({...P,[t]:o}))},B=r=>{r.preventDefault();let t;if(m)t=h.map(o=>o.id===m.id?{...s,id:o.id}:o),p(null);else{const o={...s,id:Date.now()};t=[...h,o]}x(t),localStorage.setItem("trades",JSON.stringify(t)),v(t),l({currencyPair:"",tradeType:"",entryPrice:"",exitPrice:"",pips:"",date:"",time:"",notes:"",mood:""})},A=r=>{const t=h.filter(o=>o.id!==r);x(t),localStorage.setItem("trades",JSON.stringify(t)),v(t)},G=r=>{p(r),l(r)},J=()=>{p(null),l({currencyPair:"",tradeType:"",entryPrice:"",exitPrice:"",pips:"",date:"",time:"",notes:"",mood:""})},O=r=>({Excellent:"success",Good:"info",Neutral:"warning",Poor:"error","Very Poor":"error"})[r]||"default";return e.jsx(H,{title:"Trading Insights",description:"Add your daily trading insights and performance",children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsxs(n,{item:!0,xs:12,lg:8,children:[e.jsx(C,{title:m?"Edit Trading Insight":"Add Trading Insight",children:e.jsx("form",{onSubmit:B,children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(k,{children:"Currency Pair"}),e.jsx(S,{name:"currencyPair",value:s.currencyPair,onChange:d,label:"Currency Pair",required:!0,children:f.map(r=>e.jsx(I,{value:r,children:r},r))})]})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(k,{children:"Trade Type"}),e.jsx(S,{name:"tradeType",value:s.tradeType,onChange:d,label:"Trade Type",required:!0,children:q.map(r=>e.jsx(I,{value:r,children:r},r))})]})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Entry Price",name:"entryPrice",value:s.entryPrice,onChange:d,required:!0})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Exit Price",name:"exitPrice",value:s.exitPrice,onChange:d,required:!0})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Pips",name:"pips",value:s.pips,onChange:d,required:!0,type:"number"})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Date",name:"date",type:"date",value:s.date,onChange:d,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Time",name:"time",type:"time",value:s.time,onChange:d,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(n,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(k,{children:"Trading Mood"}),e.jsx(S,{name:"mood",value:s.mood,onChange:d,label:"Trading Mood",required:!0,children:z.map(r=>e.jsx(I,{value:r,children:r},r))})]})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(j,{fullWidth:!0,label:"Notes",name:"notes",multiline:!0,rows:4,value:s.notes,onChange:d})}),e.jsx(n,{item:!0,xs:12,children:e.jsxs(M,{direction:"row",spacing:2,children:[e.jsx(R,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:m?"Update Trading Insight":"Save Trading Insight"}),m&&e.jsx(R,{variant:"outlined",color:"secondary",size:"large",onClick:J,fullWidth:!0,children:"Cancel Edit"})]})})]})})}),e.jsx(re,{mt:3,children:e.jsx(C,{title:"Recent Trades",children:e.jsx(ue,{children:e.jsxs(se,{children:[e.jsx(te,{children:e.jsxs(W,{children:[e.jsx(i,{children:"Date/Time"}),e.jsx(i,{children:"Pair"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Entry"}),e.jsx(i,{children:"Exit"}),e.jsx(i,{children:"Pips"}),e.jsx(i,{children:"Mood"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(ie,{children:h.slice().reverse().map(r=>e.jsxs(W,{children:[e.jsx(i,{children:`${r.date} ${r.time}`}),e.jsx(i,{children:r.currencyPair}),e.jsx(i,{children:r.tradeType}),e.jsx(i,{children:r.entryPrice}),e.jsx(i,{children:r.exitPrice}),e.jsxs(i,{sx:{color:Number(r.pips)>=0?"success.main":"error.main"},children:[Number(r.pips)>=0?"+":"",r.pips]}),e.jsx(i,{children:e.jsx(ae,{label:r.mood,color:O(r.mood),size:"small"})}),e.jsx(i,{children:e.jsxs(M,{direction:"row",spacing:1,children:[e.jsx(N,{size:"small",color:"primary",onClick:()=>G(r),children:e.jsx(he,{size:18})}),e.jsx(N,{size:"small",color:"error",onClick:()=>A(r.id),children:e.jsx(xe,{size:18})})]})})]},r.id))})]})})})})]}),e.jsx(n,{item:!0,xs:12,lg:4,children:e.jsx(C,{title:"Trading Statistics",children:e.jsxs(M,{spacing:3,children:[e.jsxs(D,{elevation:0,sx:{p:2,bgcolor:"background.default"},children:[e.jsx(u,{variant:"h6",children:"Today's Performance"}),e.jsxs(u,{variant:"h4",color:a.todayPips>=0?"success.main":"error.main",children:[a.todayPips>=0?"+":"",a.todayPips," pips"]}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:[a.todayTrades," trades executed"]})]}),e.jsxs(D,{elevation:0,sx:{p:2,bgcolor:"background.default"},children:[e.jsx(u,{variant:"h6",children:"Weekly Performance"}),e.jsxs(u,{variant:"h4",color:a.weeklyPips>=0?"success.main":"error.main",children:[a.weeklyPips>=0?"+":"",a.weeklyPips," pips"]}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:[a.weeklyTrades," trades executed"]})]}),e.jsxs(D,{elevation:0,sx:{p:2,bgcolor:"background.default"},children:[e.jsx(u,{variant:"h6",children:"Win Rate"}),e.jsxs(u,{variant:"h4",color:"primary",children:[a.winRate,"%"]}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:[Math.round(a.weeklyTrades*(a.winRate/100))," winning trades out of ",a.weeklyTrades]})]})]})})})]})})};export{Me as default};
