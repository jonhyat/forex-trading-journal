import{r as x,c as T,_ as s,u as I,a as P,j as i,e as ae}from"./index-2d605c9a.js";import{P as ne,C as F}from"./PageContainer-82efcecb.js";import{G as h}from"./Grid-1d046c37.js";import{C as L}from"./CardContent-db906437.js";import{a as E,g as z,s as v,c as y,b as A,T as m,B as W}from"./Box-5a801bcb.js";import{B as U}from"./Button-eb8b2652.js";import{b as se,c as q,M as K}from"./createReactComponent-e7cf419f.js";import{I as X}from"./IconButton-6dd0ee35.js";import{I as le,a as ce}from"./IconTrash-e0315d62.js";import{C as de}from"./Chip-a5490145.js";import{u as pe}from"./useTheme-2ce8941a.js";import{B as he,M as ue,F as ge}from"./Menu-9f4749a6.js";import{P as J}from"./Paper-7240ae9c.js";import{u as xe,S as me}from"./Select-1837b009.js";import{T as k,F as fe,I as ve}from"./TextField-819b2b3d.js";import"./ButtonBase-7fc4868f.js";function be(e){return z("MuiDialog",e)}const je=E("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Y=je,Ce=x.createContext({}),Q=Ce,ye=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],De=v(he,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),we=e=>{const{classes:t,scroll:o,maxWidth:n,fullWidth:u,fullScreen:d}=e,l={root:["root"],container:["container",`scroll${T(o)}`],paper:["paper",`paperScroll${T(o)}`,`paperWidth${T(String(n))}`,u&&"paperFullWidth",d&&"paperFullScreen"]};return A(l,be,t)},We=v(ue,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),ke=v("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${T(o.scroll)}`]]}})(({ownerState:e})=>s({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Te=v(J,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${T(o.scroll)}`],t[`paperWidth${T(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>s({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Y.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Y.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Y.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Se=x.forwardRef(function(t,o){const n=I({props:t,name:"MuiDialog"}),u=pe(),d={enter:u.transitions.duration.enteringScreen,exit:u.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,BackdropComponent:a,BackdropProps:p,children:S,className:D,disableEscapeKeyDown:w=!1,fullScreen:M=!1,fullWidth:j=!1,maxWidth:C="sm",onBackdropClick:b,onClose:R,open:B,PaperComponent:r=J,PaperProps:g={},scroll:f="paper",TransitionComponent:Z=ge,transitionDuration:H=d,TransitionProps:ee}=n,te=P(n,ye),N=s({},n,{disableEscapeKeyDown:w,fullScreen:M,fullWidth:j,maxWidth:C,scroll:f}),_=we(N),V=x.useRef(),ie=$=>{V.current=$.target===$.currentTarget},oe=$=>{V.current&&(V.current=null,b&&b($),R&&R($,"backdropClick"))},O=xe(c),re=x.useMemo(()=>({titleId:O}),[O]);return i.jsx(We,s({className:y(_.root,D),closeAfterTransition:!0,components:{Backdrop:De},componentsProps:{backdrop:s({transitionDuration:H,as:a},p)},disableEscapeKeyDown:w,onClose:R,open:B,ref:o,onClick:oe,ownerState:N},te,{children:i.jsx(Z,s({appear:!0,in:B,timeout:H,role:"presentation"},ee,{children:i.jsx(ke,{className:y(_.container),onMouseDown:ie,ownerState:N,children:i.jsx(Te,s({as:r,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":O},g,{className:y(_.paper,g.className),ownerState:N,children:i.jsx(Q.Provider,{value:re,children:S})}))})}))}))}),Me=Se;function Re(e){return z("MuiDialogActions",e)}E("MuiDialogActions",["root","spacing"]);const $e=["className","disableSpacing"],Ie=e=>{const{classes:t,disableSpacing:o}=e;return A({root:["root",!o&&"spacing"]},Re,t)},Pe=v("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})(({ownerState:e})=>s({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Ae=x.forwardRef(function(t,o){const n=I({props:t,name:"MuiDialogActions"}),{className:u,disableSpacing:d=!1}=n,l=P(n,$e),c=s({},n,{disableSpacing:d}),a=Ie(c);return i.jsx(Pe,s({className:y(a.root,u),ownerState:c,ref:o},l))}),Be=Ae;function Ne(e){return z("MuiDialogContent",e)}E("MuiDialogContent",["root","dividers"]);function Fe(e){return z("MuiDialogTitle",e)}const Le=E("MuiDialogTitle",["root"]),Ue=Le,Ee=["className","dividers"],ze=e=>{const{classes:t,dividers:o}=e;return A({root:["root",o&&"dividers"]},Ne,t)},_e=v("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>s({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Ue.root} + &`]:{paddingTop:0}})),Ve=x.forwardRef(function(t,o){const n=I({props:t,name:"MuiDialogContent"}),{className:u,dividers:d=!1}=n,l=P(n,Ee),c=s({},n,{dividers:d}),a=ze(c);return i.jsx(_e,s({className:y(a.root,u),ownerState:c,ref:o},l))}),Oe=Ve,Ye=["className","id"],He=e=>{const{classes:t}=e;return A({root:["root"]},Fe,t)},Ke=v(m,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Xe=x.forwardRef(function(t,o){const n=I({props:t,name:"MuiDialogTitle"}),{className:u,id:d}=n,l=P(n,Ye),c=n,a=He(c),{titleId:p=d}=x.useContext(Q);return i.jsx(Ke,s({component:"h2",className:y(a.root,u),ownerState:c,ref:o,variant:"h6",id:d??p},l))}),Ge=Xe,qe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Je=e=>{const{absolute:t,children:o,classes:n,flexItem:u,light:d,orientation:l,textAlign:c,variant:a}=e;return A({root:["root",t&&"absolute",a,d&&"light",l==="vertical"&&"vertical",u&&"flexItem",o&&"withChildren",o&&l==="vertical"&&"withChildrenVertical",c==="right"&&l!=="vertical"&&"textAlignRight",c==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},se,n)},Qe=v("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>s({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:ae(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>s({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>s({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>s({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>s({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Ze=v("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>s({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),et=x.forwardRef(function(t,o){const n=I({props:t,name:"MuiDivider"}),{absolute:u=!1,children:d,className:l,component:c=d?"div":"hr",flexItem:a=!1,light:p=!1,orientation:S="horizontal",role:D=c!=="hr"?"separator":void 0,textAlign:w="center",variant:M="fullWidth"}=n,j=P(n,qe),C=s({},n,{absolute:u,component:c,flexItem:a,light:p,orientation:S,role:D,textAlign:w,variant:M}),b=Je(C);return i.jsx(Qe,s({as:c,className:y(b.root,l),role:D,ref:o,ownerState:C},j,{children:d?i.jsx(Ze,{className:b.wrapper,ownerState:C,children:d}):null}))}),tt=et;var it=q("calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]),G=q("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);const bt=()=>{const[e,t]=x.useState([]),[o,n]=x.useState(!1),[u,d]=x.useState(null),[l,c]=x.useState(!1),[a,p]=x.useState({image:"",pair:"",entry:"",exit:"",profit:"",notes:"",date:new Date().toISOString().split("T")[0],type:"long"}),S=r=>{const g=r.target.files[0];if(g){const f=new FileReader;f.onloadend=()=>{p({...a,image:f.result})},f.readAsDataURL(g)}},D=()=>{t(l?e.map((r,g)=>g===u?a:r):[...e,a]),j()},w=r=>{d(r),p(e[r]),c(!0),n(!0)},M=r=>{t(e.filter((g,f)=>f!==r))},j=()=>{n(!1),c(!1),d(null),p({image:"",pair:"",entry:"",exit:"",profit:"",notes:"",date:new Date().toISOString().split("T")[0],type:"long"})},C=()=>{c(!1),n(!0)},b=e.reduce((r,g)=>{const f=parseFloat(g.profit)||0;return r+f},0),R=e.filter(r=>parseFloat(r.profit)>0).length,B=e.length>0?R/e.length*100:0;return i.jsxs(ne,{title:"Weekly Trade Review",description:"Review and analyze your weekly trading performance",children:[i.jsxs(h,{container:!0,spacing:3,children:[i.jsx(h,{item:!0,xs:12,md:4,children:i.jsx(F,{sx:{bgcolor:"primary.light",color:"white"},children:i.jsxs(L,{children:[i.jsx(m,{variant:"h6",gutterBottom:!0,children:"Total Trades"}),i.jsx(m,{variant:"h3",children:e.length})]})})}),i.jsx(h,{item:!0,xs:12,md:4,children:i.jsx(F,{sx:{bgcolor:b>=0?"success.light":"error.light",color:"white"},children:i.jsxs(L,{children:[i.jsx(m,{variant:"h6",gutterBottom:!0,children:"Total Profit/Loss"}),i.jsx(m,{variant:"h3",children:b.toFixed(2)})]})})}),i.jsx(h,{item:!0,xs:12,md:4,children:i.jsx(F,{sx:{bgcolor:"info.light",color:"white"},children:i.jsxs(L,{children:[i.jsx(m,{variant:"h6",gutterBottom:!0,children:"Win Rate"}),i.jsxs(m,{variant:"h3",children:[B.toFixed(1),"%"]})]})})}),i.jsx(h,{item:!0,xs:12,children:i.jsx(W,{display:"flex",justifyContent:"flex-end",mb:2,children:i.jsx(U,{variant:"contained",color:"primary",startIcon:i.jsx(G,{}),onClick:C,children:"Add New Trade"})})}),e.map((r,g)=>i.jsx(h,{item:!0,xs:12,md:6,lg:4,children:i.jsx(F,{children:i.jsxs(L,{children:[i.jsxs(W,{position:"relative",children:[i.jsx("img",{src:r.image,alt:`Trade ${g+1}`,style:{width:"100%",height:"200px",objectFit:"cover"}}),i.jsxs(W,{position:"absolute",top:8,right:8,display:"flex",gap:1,children:[i.jsx(X,{size:"small",onClick:()=>w(g),sx:{bgcolor:"white"},children:i.jsx(le,{size:18})}),i.jsx(X,{size:"small",onClick:()=>M(g),sx:{bgcolor:"white"},children:i.jsx(ce,{size:18})})]})]}),i.jsxs(W,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2,children:[i.jsx(m,{variant:"h6",children:r.pair}),i.jsx(de,{label:r.type.toUpperCase(),color:r.type==="long"?"success":"error",size:"small"})]}),i.jsxs(W,{display:"flex",alignItems:"center",mt:1,mb:1,children:[i.jsx(it,{size:16,style:{marginRight:"8px"}}),i.jsx(m,{variant:"body2",color:"textSecondary",children:new Date(r.date).toLocaleDateString()})]}),i.jsx(tt,{sx:{my:1}}),i.jsxs(h,{container:!0,spacing:2,children:[i.jsx(h,{item:!0,xs:6,children:i.jsxs(m,{variant:"body2",color:"textSecondary",children:["Entry: ",r.entry]})}),i.jsx(h,{item:!0,xs:6,children:i.jsxs(m,{variant:"body2",color:"textSecondary",children:["Exit: ",r.exit]})})]}),i.jsxs(m,{variant:"h6",color:parseFloat(r.profit)>=0?"success.main":"error.main",fontWeight:"bold",mt:1,children:["Profit: ",r.profit]}),i.jsx(m,{variant:"body2",mt:1,children:r.notes})]})})},g))]}),i.jsxs(Me,{open:o,onClose:j,maxWidth:"md",fullWidth:!0,children:[i.jsx(Ge,{children:l?"Edit Trade":"Add New Trade"}),i.jsx(Oe,{children:i.jsxs(W,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[i.jsxs(U,{variant:"outlined",component:"label",startIcon:i.jsx(G,{}),children:["Upload Trade Screenshot",i.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:S})]}),a.image&&i.jsx("img",{src:a.image,alt:"Trade preview",style:{maxHeight:"200px",objectFit:"contain"}}),i.jsxs(h,{container:!0,spacing:2,children:[i.jsx(h,{item:!0,xs:12,md:6,children:i.jsx(k,{label:"Currency Pair",value:a.pair,onChange:r=>p({...a,pair:r.target.value}),fullWidth:!0})}),i.jsx(h,{item:!0,xs:12,md:6,children:i.jsxs(fe,{fullWidth:!0,children:[i.jsx(ve,{children:"Trade Type"}),i.jsxs(me,{value:a.type,label:"Trade Type",onChange:r=>p({...a,type:r.target.value}),children:[i.jsx(K,{value:"long",children:"Long"}),i.jsx(K,{value:"short",children:"Short"})]})]})}),i.jsx(h,{item:!0,xs:12,children:i.jsx(k,{label:"Date",type:"date",value:a.date,onChange:r=>p({...a,date:r.target.value}),fullWidth:!0,InputLabelProps:{shrink:!0}})}),i.jsx(h,{item:!0,xs:12,md:6,children:i.jsx(k,{label:"Entry Price",value:a.entry,onChange:r=>p({...a,entry:r.target.value}),fullWidth:!0})}),i.jsx(h,{item:!0,xs:12,md:6,children:i.jsx(k,{label:"Exit Price",value:a.exit,onChange:r=>p({...a,exit:r.target.value}),fullWidth:!0})}),i.jsx(h,{item:!0,xs:12,children:i.jsx(k,{label:"Profit/Loss",value:a.profit,onChange:r=>p({...a,profit:r.target.value}),fullWidth:!0})}),i.jsx(h,{item:!0,xs:12,children:i.jsx(k,{label:"Notes",value:a.notes,onChange:r=>p({...a,notes:r.target.value}),multiline:!0,rows:4,fullWidth:!0})})]})]})}),i.jsxs(Be,{children:[i.jsx(U,{onClick:j,children:"Cancel"}),i.jsx(U,{onClick:D,variant:"contained",color:"primary",children:l?"Save Changes":"Add Trade"})]})]})]})};export{bt as default};
