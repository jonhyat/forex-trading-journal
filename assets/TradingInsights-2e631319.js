import{r as y,u as $,a as V,_ as W,j as e}from"./index-2d605c9a.js";import{P as X}from"./PageContainer-82efcecb.js";import{D as v}from"./DashboardCard-4d971f1b.js";import{G as a}from"./Grid-1d046c37.js";import{F as w,I as S,T as j}from"./TextField-819b2b3d.js";import{S as k}from"./Select-1837b009.js";import{M as I}from"./createReactComponent-e7cf419f.js";import{S as D}from"./Stack-8321bcd2.js";import{B as N}from"./Button-eb8b2652.js";import{g as H,a as Y,s as K,c as Q,b as Z,B as ee,T as u}from"./Box-5a801bcb.js";import{T as re,a as se,b as R,c as i,d as te}from"./TableRow-c6bed240.js";import{C as ie}from"./Chip-a5490145.js";import{I as M}from"./IconButton-6dd0ee35.js";import{I as ne,a as ae}from"./IconTrash-e0315d62.js";import{P as E}from"./Paper-7240ae9c.js";import"./CardContent-db906437.js";import"./useTheme-2ce8941a.js";import"./Menu-9f4749a6.js";import"./ButtonBase-7fc4868f.js";import"./styled-d3fce69c.js";function oe(s){return H("MuiTableContainer",s)}Y("MuiTableContainer",["root"]);const le=["className","component"],ce=s=>{const{classes:l}=s;return Z({root:["root"]},oe,l)},de=K("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(s,l)=>l.root})({width:"100%",overflowX:"auto"}),ue=y.forwardRef(function(l,h){const m=$({props:l,name:"MuiTableContainer"}),{className:n,component:T="div"}=m,x=V(m,le),p=W({},m,{component:T}),P=ce(p);return e.jsx(de,W({ref:h,as:T,className:Q(P.root,n),ownerState:p},x))}),he=ue,Re=()=>{const[s,l]=y.useState({currencyPair:"",tradeType:"",entryPrice:"",exitPrice:"",pips:"",date:"",time:"",notes:"",mood:""}),[h,m]=y.useState([]),[n,T]=y.useState({todayPips:0,todayTrades:0,weeklyPips:0,weeklyTrades:0,winRate:0}),[x,p]=y.useState(null),P=["XAUUSD","GBPUSD","EURUSD","USDJPY"],U=["Buy","Sell"],q=["Excellent","Good","Neutral","Poor","Very Poor"];y.useEffect(()=>{const r=localStorage.getItem("trades");if(r){const t=JSON.parse(r);m(t),b(t)}},[]);const b=r=>{const t=new Date().toISOString().split("T")[0],o=new Date;o.setDate(o.getDate()-7);const f=r.filter(d=>d.date===t),g=r.filter(d=>new Date(d.date)>=o),O=f.reduce((d,C)=>d+Number(C.pips),0),_=g.reduce((d,C)=>d+Number(C.pips),0),F=g.filter(d=>Number(d.pips)>0),L=g.length>0?F.length/g.length*100:0;T({todayPips:O,todayTrades:f.length,weeklyPips:_,weeklyTrades:g.length,winRate:Math.round(L)})},c=r=>{const{name:t,value:o}=r.target;l(f=>({...f,[t]:o}))},B=r=>{r.preventDefault();let t;if(x)t=h.map(o=>o.id===x.id?{...s,id:o.id}:o),p(null);else{const o={...s,id:Date.now()};t=[...h,o]}m(t),localStorage.setItem("trades",JSON.stringify(t)),b(t),l({currencyPair:"",tradeType:"",entryPrice:"",exitPrice:"",pips:"",date:"",time:"",notes:"",mood:""})},z=r=>{const t=h.filter(o=>o.id!==r);m(t),localStorage.setItem("trades",JSON.stringify(t)),b(t)},A=r=>{p(r),l(r)},G=()=>{p(null),l({currencyPair:"",tradeType:"",entryPrice:"",exitPrice:"",pips:"",date:"",time:"",notes:"",mood:""})},J=r=>({Excellent:"success",Good:"info",Neutral:"warning",Poor:"error","Very Poor":"error"})[r]||"default";return e.jsx(X,{title:"Trading Insights",description:"Add your daily trading insights and performance",children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,lg:8,children:[e.jsx(v,{title:x?"Edit Trading Insight":"Add Trading Insight",children:e.jsx("form",{onSubmit:B,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(S,{children:"Currency Pair"}),e.jsx(k,{name:"currencyPair",value:s.currencyPair,onChange:c,label:"Currency Pair",required:!0,children:P.map(r=>e.jsx(I,{value:r,children:r},r))})]})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(S,{children:"Trade Type"}),e.jsx(k,{name:"tradeType",value:s.tradeType,onChange:c,label:"Trade Type",required:!0,children:U.map(r=>e.jsx(I,{value:r,children:r},r))})]})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Entry Price",name:"entryPrice",value:s.entryPrice,onChange:c,required:!0})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Exit Price",name:"exitPrice",value:s.exitPrice,onChange:c,required:!0})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Pips",name:"pips",value:s.pips,onChange:c,required:!0,type:"number"})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Date",name:"date",type:"date",value:s.date,onChange:c,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(j,{fullWidth:!0,label:"Time",name:"time",type:"time",value:s.time,onChange:c,required:!0,InputLabelProps:{shrink:!0}})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(w,{fullWidth:!0,children:[e.jsx(S,{children:"Trading Mood"}),e.jsx(k,{name:"mood",value:s.mood,onChange:c,label:"Trading Mood",required:!0,children:q.map(r=>e.jsx(I,{value:r,children:r},r))})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(j,{fullWidth:!0,label:"Notes",name:"notes",multiline:!0,rows:4,value:s.notes,onChange:c})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(D,{direction:"row",spacing:2,children:[e.jsx(N,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:x?"Update Trading Insight":"Save Trading Insight"}),x&&e.jsx(N,{variant:"outlined",color:"secondary",size:"large",onClick:G,fullWidth:!0,children:"Cancel Edit"})]})})]})})}),e.jsx(ee,{mt:3,children:e.jsx(v,{title:"Recent Trades",children:e.jsx(he,{children:e.jsxs(re,{children:[e.jsx(se,{children:e.jsxs(R,{children:[e.jsx(i,{children:"Date/Time"}),e.jsx(i,{children:"Pair"}),e.jsx(i,{children:"Type"}),e.jsx(i,{children:"Entry"}),e.jsx(i,{children:"Exit"}),e.jsx(i,{children:"Pips"}),e.jsx(i,{children:"Mood"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(te,{children:h.slice().reverse().map(r=>e.jsxs(R,{children:[e.jsx(i,{children:`${r.date} ${r.time}`}),e.jsx(i,{children:r.currencyPair}),e.jsx(i,{children:r.tradeType}),e.jsx(i,{children:r.entryPrice}),e.jsx(i,{children:r.exitPrice}),e.jsxs(i,{sx:{color:Number(r.pips)>=0?"success.main":"error.main"},children:[Number(r.pips)>=0?"+":"",r.pips]}),e.jsx(i,{children:e.jsx(ie,{label:r.mood,color:J(r.mood),size:"small"})}),e.jsx(i,{children:e.jsxs(D,{direction:"row",spacing:1,children:[e.jsx(M,{size:"small",color:"primary",onClick:()=>A(r),children:e.jsx(ne,{size:18})}),e.jsx(M,{size:"small",color:"error",onClick:()=>z(r.id),children:e.jsx(ae,{size:18})})]})})]},r.id))})]})})})})]}),e.jsx(a,{item:!0,xs:12,lg:4,children:e.jsx(v,{title:"Trading Statistics",children:e.jsxs(D,{spacing:3,children:[e.jsxs(E,{elevation:0,sx:{p:2,bgcolor:"background.default"},children:[e.jsx(u,{variant:"h6",children:"Today's Performance"}),e.jsxs(u,{variant:"h4",color:n.todayPips>=0?"success.main":"error.main",children:[n.todayPips>=0?"+":"",n.todayPips," pips"]}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:[n.todayTrades," trades executed"]})]}),e.jsxs(E,{elevation:0,sx:{p:2,bgcolor:"background.default"},children:[e.jsx(u,{variant:"h6",children:"Weekly Performance"}),e.jsxs(u,{variant:"h4",color:n.weeklyPips>=0?"success.main":"error.main",children:[n.weeklyPips>=0?"+":"",n.weeklyPips," pips"]}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:[n.weeklyTrades," trades executed"]})]}),e.jsxs(E,{elevation:0,sx:{p:2,bgcolor:"background.default"},children:[e.jsx(u,{variant:"h6",children:"Win Rate"}),e.jsxs(u,{variant:"h4",color:"primary",children:[n.winRate,"%"]}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:[Math.round(n.weeklyTrades*(n.winRate/100))," winning trades out of ",n.weeklyTrades]})]})]})})})]})})};export{Re as default};
