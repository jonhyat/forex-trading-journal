import{r as u,c as v,_ as d,u as T,a as w,j as t}from"./index-984af789.js";import{P as oe,C as te}from"./PageContainer-ab73912b.js";import{G as U}from"./Grid-8fee0a22.js";import{a as P,g as M,s as h,c as C,b as $,T as f,B as k}from"./Box-0d03ac21.js";import{B as S}from"./Button-bce726ff.js";import{c as ae}from"./createReactComponent-3f50e09a.js";import{C as ie}from"./CardContent-4f285153.js";import{I as Y}from"./IconButton-8d8e57e7.js";import{I as se,a as re}from"./IconTrash-1a62afcd.js";import{u as ne}from"./useTheme-7fb9fce7.js";import{B as le,M as ce,F as de}from"./Menu-7b5c88c7.js";import{P as K}from"./Paper-ab3f3133.js";import{u as pe}from"./Select-6b2fcdc5.js";import{T as D}from"./TextField-f029f362.js";import"./ButtonBase-07c1bd4f.js";function ue(e){return M("MuiDialog",e)}const ge=P("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),_=ge,xe=u.createContext({}),X=xe,me=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],he=h(le,{name:"MuiDialog",slot:"Backdrop",overrides:(e,o)=>o.backdrop})({zIndex:-1}),fe=e=>{const{classes:o,scroll:i,maxWidth:s,fullWidth:g,fullScreen:n}=e,p={root:["root"],container:["container",`scroll${v(i)}`],paper:["paper",`paperScroll${v(i)}`,`paperWidth${v(String(s))}`,g&&"paperFullWidth",n&&"paperFullScreen"]};return $(p,ue,o)},ve=h(ce,{name:"MuiDialog",slot:"Root",overridesResolver:(e,o)=>o.root})({"@media print":{position:"absolute !important"}}),Ce=h("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,o)=>{const{ownerState:i}=e;return[o.container,o[`scroll${v(i.scroll)}`]]}})(({ownerState:e})=>d({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),be=h(K,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,o)=>{const{ownerState:i}=e;return[o.paper,o[`scrollPaper${v(i.scroll)}`],o[`paperWidth${v(String(i.maxWidth))}`],i.fullWidth&&o.paperFullWidth,i.fullScreen&&o.paperFullScreen]}})(({theme:e,ownerState:o})=>d({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},o.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},o.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!o.maxWidth&&{maxWidth:"calc(100% - 64px)"},o.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${_.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.maxWidth&&o.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[o.maxWidth]}${e.breakpoints.unit}`,[`&.${_.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[o.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},o.fullWidth&&{width:"calc(100% - 64px)"},o.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${_.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),ye=u.forwardRef(function(o,i){const s=T({props:o,name:"MuiDialog"}),g=ne(),n={enter:g.transitions.duration.enteringScreen,exit:g.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":l,BackdropComponent:r,BackdropProps:x,children:R,className:B,disableEscapeKeyDown:j=!1,fullScreen:A=!1,fullWidth:b=!1,maxWidth:N="sm",onBackdropClick:a,onClose:c,open:m,PaperComponent:G=K,PaperProps:z={},scroll:O="paper",TransitionComponent:V=de,transitionDuration:L=n,TransitionProps:q}=s,J=w(s,me),W=d({},s,{disableEscapeKeyDown:j,fullScreen:A,fullWidth:b,maxWidth:N,scroll:O}),I=fe(W),E=u.useRef(),Q=y=>{E.current=y.target===y.currentTarget},Z=y=>{E.current&&(E.current=null,a&&a(y),c&&c(y,"backdropClick"))},F=pe(l),ee=u.useMemo(()=>({titleId:F}),[F]);return t.jsx(ve,d({className:C(I.root,B),closeAfterTransition:!0,components:{Backdrop:he},componentsProps:{backdrop:d({transitionDuration:L,as:r},x)},disableEscapeKeyDown:j,onClose:c,open:m,ref:i,onClick:Z,ownerState:W},J,{children:t.jsx(V,d({appear:!0,in:m,timeout:L,role:"presentation"},q,{children:t.jsx(Ce,{className:C(I.container),onMouseDown:Q,ownerState:W,children:t.jsx(be,d({as:G,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":F},z,{className:C(I.paper,z.className),ownerState:W,children:t.jsx(X.Provider,{value:ee,children:R})}))})}))}))}),De=ye;function je(e){return M("MuiDialogActions",e)}P("MuiDialogActions",["root","spacing"]);const We=["className","disableSpacing"],ke=e=>{const{classes:o,disableSpacing:i}=e;return $({root:["root",!i&&"spacing"]},je,o)},Se=h("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:i}=e;return[o.root,!i.disableSpacing&&o.spacing]}})(({ownerState:e})=>d({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),Te=u.forwardRef(function(o,i){const s=T({props:o,name:"MuiDialogActions"}),{className:g,disableSpacing:n=!1}=s,p=w(s,We),l=d({},s,{disableSpacing:n}),r=ke(l);return t.jsx(Se,d({className:C(r.root,g),ownerState:l,ref:i},p))}),we=Te;function Pe(e){return M("MuiDialogContent",e)}P("MuiDialogContent",["root","dividers"]);function Me(e){return M("MuiDialogTitle",e)}const $e=P("MuiDialogTitle",["root"]),Re=$e,Be=["className","dividers"],Ae=e=>{const{classes:o,dividers:i}=e;return $({root:["root",i&&"dividers"]},Pe,o)},Ne=h("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:i}=e;return[o.root,i.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>d({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Re.root} + &`]:{paddingTop:0}})),Ie=u.forwardRef(function(o,i){const s=T({props:o,name:"MuiDialogContent"}),{className:g,dividers:n=!1}=s,p=w(s,Be),l=d({},s,{dividers:n}),r=Ae(l);return t.jsx(Ne,d({className:C(r.root,g),ownerState:l,ref:i},p))}),Ee=Ie,Fe=["className","id"],Ue=e=>{const{classes:o}=e;return $({root:["root"]},Me,o)},_e=h(f,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,o)=>o.root})({padding:"16px 24px",flex:"0 0 auto"}),ze=u.forwardRef(function(o,i){const s=T({props:o,name:"MuiDialogTitle"}),{className:g,id:n}=s,p=w(s,Fe),l=s,r=Ue(l),{titleId:x=n}=u.useContext(X);return t.jsx(_e,d({component:"h2",className:C(r.root,g),ownerState:l,ref:i,variant:"h6",id:n??x},p))}),Le=ze;var H=ae("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);const io=()=>{const[e,o]=u.useState([]),[i,s]=u.useState(!1),[g,n]=u.useState(null),[p,l]=u.useState(!1),[r,x]=u.useState({image:"",pair:"",entry:"",exit:"",profit:"",notes:""}),R=a=>{const c=a.target.files[0];if(c){const m=new FileReader;m.onloadend=()=>{x({...r,image:m.result})},m.readAsDataURL(c)}},B=()=>{o(p?e.map((a,c)=>c===g?r:a):[...e,r]),b()},j=a=>{n(a),x(e[a]),l(!0),s(!0)},A=a=>{o(e.filter((c,m)=>m!==a))},b=()=>{s(!1),l(!1),n(null),x({image:"",pair:"",entry:"",exit:"",profit:"",notes:""})},N=()=>{l(!1),s(!0)};return t.jsxs(oe,{title:"Weekly Trade Review",description:"Review and analyze your weekly trading performance",children:[t.jsxs(U,{container:!0,spacing:3,children:[t.jsx(U,{item:!0,xs:12,children:t.jsx(k,{display:"flex",justifyContent:"flex-end",mb:2,children:t.jsx(S,{variant:"contained",color:"primary",startIcon:t.jsx(H,{}),onClick:N,children:"Add New Trade"})})}),e.map((a,c)=>t.jsx(U,{item:!0,xs:12,md:6,lg:4,children:t.jsx(te,{children:t.jsxs(ie,{children:[t.jsxs(k,{position:"relative",children:[t.jsx("img",{src:a.image,alt:`Trade ${c+1}`,style:{width:"100%",height:"200px",objectFit:"cover"}}),t.jsxs(k,{position:"absolute",top:8,right:8,display:"flex",gap:1,children:[t.jsx(Y,{size:"small",onClick:()=>j(c),sx:{bgcolor:"white"},children:t.jsx(se,{size:18})}),t.jsx(Y,{size:"small",onClick:()=>A(c),sx:{bgcolor:"white"},children:t.jsx(re,{size:18})})]})]}),t.jsx(f,{variant:"h6",mt:2,children:a.pair}),t.jsxs(f,{variant:"body2",color:"textSecondary",children:["Entry: ",a.entry]}),t.jsxs(f,{variant:"body2",color:"textSecondary",children:["Exit: ",a.exit]}),t.jsxs(f,{variant:"body1",color:a.profit>=0?"success.main":"error.main",fontWeight:"bold",children:["Profit: ",a.profit]}),t.jsx(f,{variant:"body2",mt:1,children:a.notes})]})})},c))]}),t.jsxs(De,{open:i,onClose:b,maxWidth:"md",fullWidth:!0,children:[t.jsx(Le,{children:p?"Edit Trade":"Add New Trade"}),t.jsx(Ee,{children:t.jsxs(k,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[t.jsxs(S,{variant:"outlined",component:"label",startIcon:t.jsx(H,{}),children:["Upload Trade Screenshot",t.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:R})]}),r.image&&t.jsx("img",{src:r.image,alt:"Trade preview",style:{maxHeight:"200px",objectFit:"contain"}}),t.jsx(D,{label:"Currency Pair",value:r.pair,onChange:a=>x({...r,pair:a.target.value}),fullWidth:!0}),t.jsx(D,{label:"Entry Price",value:r.entry,onChange:a=>x({...r,entry:a.target.value}),fullWidth:!0}),t.jsx(D,{label:"Exit Price",value:r.exit,onChange:a=>x({...r,exit:a.target.value}),fullWidth:!0}),t.jsx(D,{label:"Profit/Loss",value:r.profit,onChange:a=>x({...r,profit:a.target.value}),fullWidth:!0}),t.jsx(D,{label:"Notes",value:r.notes,onChange:a=>x({...r,notes:a.target.value}),multiline:!0,rows:4,fullWidth:!0})]})}),t.jsxs(we,{children:[t.jsx(S,{onClick:b,children:"Cancel"}),t.jsx(S,{onClick:B,variant:"contained",color:"primary",children:p?"Save Changes":"Add Trade"})]})]})]})};export{io as default};
